{% extends "contact_app/base.html" %}
{% block content %}

<h2>{{ title }}</h2>
<form method="post" class="row g-3">
    {% csrf_token %}
    <div>
        {{ form.full_name }}
        {% for error in form.full_name.errors %}
        <span class="error"> {{ error }} </span>
        {% endfor %}
    </div>
    <div>
        {{ form.address }}
        {% for error in form.address.errors %}
        <span class="error"> {{ error }} </span>
        {% endfor %}
    </div>
    <div>
        {{ form.email }}
        {% for error in form.email.errors %}
        <span class="error"> {{ error }} </span>
        {% endfor %}
    </div>
    <div>
        {{ form.phone }}
        {% for error in form.phone.errors %}
        <span class="error"> {{ error }} </span>
        {% endfor %}
    </div>

    <div>
        {{ form.birthday }}
        {% for error in form.birthday.errors %}
        <span class="error"> {{ error }} </span>
        {% endfor %}
    </div>
    <button type="submit" class="btn btn-success">Save</button>
    <a href="{% url 'contact_app:main' %}" class="btn btn-secondary">Cancel</a>
</form>
<script src="https://cdn.jsdelivr.net/npm/inputmask/dist/inputmask.min.js"></script>

<script type="module" defer>
    document.addEventListener("DOMContentLoaded", function() {
      const phoneInput = document.querySelector('input[name="phone"]');
      const im = new Inputmask("+38 (999) 999-99-99");
      im.mask(phoneInput);
    });

</script>
{% endblock %}